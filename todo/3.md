# Missing Configuration Examples

## examples/camera_routes.yaml

```yaml
# Advanced Camera Processing Routes
# Demonstrates multi-stage processing with different languages

routes:
  - name: "advanced_camera_detection"
    from: "rtsp://{{CAMERA_USER}}:{{CAMERA_PASS}}@{{CAMERA_IP}}/stream1"

    processors:
      # Stage 1: Python YOLO object detection
      - type: "external"
        command: "python scripts/detect_objects.py"
        input_format: "json"
        output_format: "json"
        config:
          confidence_threshold: 0.6
          model: "yolov8n.pt"
          target_objects: ["person", "car", "motorcycle", "bicycle"]
          batch_processing: false

      # Stage 2: Go-based risk assessment and zone analysis
      - type: "external"
        command: "go run scripts/image_processor.go"
        input_format: "json"
        output_format: "json"
        config:
          zone_mapping: "entrance:critical,parking:medium,garden:low"
          threat_threshold: 0.7
          risk_factors: "time_of_day,object_type,zone,confidence"

      # Stage 3: C++ performance optimization and NMS
      - type: "external"
        command: "./bin/cpp_postprocessor"
        input_format: "json"
        output_format: "json"
        config:
          algorithm: "fast_nms"
          nms_threshold: 0.5
          confidence_threshold: 0.7

      # Stage 4: Filter only high-risk detections
      - type: "filter"
        condition: "{{threat_level}} in ['high', 'critical']"

      # Stage 5: Node.js business rules engine
      - type: "external"
        command: "node scripts/business_rules.js"
        input_format: "json"
        output_format: "json"
        config:
          rules_file: "security_rules.json"
          business_hours: "09:00-17:00"
          escalation_time: 300

      # Stage 6: Transform to alert format
      - type: "transform"
        template: |
          ðŸš¨ SECURITY ALERT - {{camera_name}}

          Threat Level: {{threat_level}} ({{business_priority}})
          Time: {{timestamp}}
          Location: {{zone}} ({{position}})

          Detections:
          {{#enhanced_detections}}
          â€¢ {{object_type}} - Confidence: {{confidence}}% - Risk: {{risk_score}}
            Recommended Action: {{recommended_action}}
          {{/enhanced_detections}}

          Business Context:
          â€¢ Business Hours: {{#business_context.is_business_hours}}Yes{{/business_context.is_business_hours}}{{^business_context.is_business_hours}}No{{/business_context.is_business_hours}}
          â€¢ Zone Risk: {{business_context.zone_risk_level}}
          â€¢ Immediate Response Required: {{business_context.requires_immediate_response}}

    to:
      - "email://{{SMTP_SERVER}}:{{SMTP_PORT}}?user={{SMTP_USER}}&password={{SMTP_PASS}}&to={{SECURITY_EMAIL}}"
      - "http://{{SECURITY_WEBHOOK}}/critical-alert"
      - "mqtt://{{MQTT_BROKER}}:1883/security/alerts/{{CAMERA_NAME}}"
      - "log://logs/security_{{CAMERA_NAME}}.log"

  - name: "camera_health_monitoring"
    from: "timer://2m"

    processors:
      - type: "external"
        command: "python scripts/camera_health_check.py"
        config:
          camera_endpoints: "{{CAMERA_HEALTH_ENDPOINTS}}"
          timeout: 10
          expected_fps: 25

      - type: "filter"
        condition: "{{status}} != 'healthy'"

    to: "email://{{SMTP_SERVER}}:{{SMTP_PORT}}?user={{SMTP_USER}}&password={{SMTP_PASS}}&to={{ADMIN_EMAIL}}"

  - name: "motion_detection_backup"
    from: "rtsp://{{BACKUP_CAMERA_USER}}:{{BACKUP_CAMERA_PASS}}@{{BACKUP_CAMERA_IP}}/stream1"

    processors:
      - type: "external"
        command: "python scripts/motion_detector.py"
        config:
          sensitivity: 0.3
          min_area: 5000
          background_subtraction: true

      - type: "aggregate"
        strategy: "collect"
        timeout: "30s"
        max_size: 5

      - type: "transform"
        template: "Motion detected on backup camera: {{count}} events in last 30s"

    to: "log://logs/motion_backup.log"

env_vars:
  - CAMERA_USER
  - CAMERA_PASS
  - CAMERA_IP
  - CAMERA_NAME
  - BACKUP_CAMERA_USER
  - BACKUP_CAMERA_PASS
  - BACKUP_CAMERA_IP
  - SMTP_SERVER
  - SMTP_PORT
  - SMTP_USER
  - SMTP_PASS
  - SECURITY_EMAIL
  - ADMIN_EMAIL
  - SECURITY_WEBHOOK
  - MQTT_BROKER
  - CAMERA_HEALTH_ENDPOINTS

settings:
  max_concurrent_routes: 5
  default_timeout: 60
  log_level: "info"
  metrics_enabled: true
  health_check_port: 8080
  frame_skip_ratio: 3
  max_memory_usage: "2GB"
```

## examples/grpc_routes.yaml

```yaml
# gRPC-based ML Pipeline Routes
# Demonstrates microservices architecture with gRPC communication

routes:
  - name: "ml_inference_pipeline"
    from: "grpc://0.0.0.0:50051/ImageProcessingService/ProcessBatch"

    processors:
      # Rust preprocessing for performance
      - type: "external"
        command: "cargo run --bin data_preprocessor"
        input_format: "json"
        output_format: "json"
        config:
          batch_size: 32
          normalize: true
          parallel: true
          simd_enabled: true

      # Python ML inference
      - type: "external"
        command: "python scripts/grpc_ml_client.py"
        input_format: "json"
        output_format: "json"
        config:
          grpc_server: "{{ML_GRPC_SERVER}}"
          model_name: "{{ML_MODEL_NAME}}"
          timeout: 30
          batch_mode: true

      # Go post-processing and validation
      - type: "external"
        command: "go run scripts/inference_validator.go"
        config:
          validation_rules: "{{VALIDATION_RULES}}"
          confidence_threshold: 0.8

      # C++ optimization for real-time requirements
      - type: "external"
        command: "./bin/cpp_postprocessor"
        config:
          algorithm: "fast_nms"
          optimization: "speed"
          max_latency_ms: 100

    to:
      - "grpc://{{RESULT_GRPC_SERVER}}/ResultService/StoreResults"
      - "mqtt://{{MQTT_BROKER}}:1883/ml/results"

  - name: "model_performance_monitoring"
    from: "timer://5m"

    processors:
      - type: "external"
        command: "python scripts/model_metrics_collector.py"
        config:
          models: "{{MONITORED_MODELS}}"
          metrics: "accuracy,latency,throughput,error_rate"

      - type: "filter"
        condition: "{{accuracy}} < 0.9 or {{latency_ms}} > 500"

      - type: "transform"
        template: |
          Model Performance Alert:
          Model: {{model_name}}
          Accuracy: {{accuracy}}
          Latency: {{latency_ms}}ms
          Error Rate: {{error_rate}}%

    to: "email://{{SMTP_SERVER}}:{{SMTP_PORT}}?user={{SMTP_USER}}&password={{SMTP_PASS}}&to={{ML_TEAM_EMAIL}}"

  - name: "distributed_batch_processing"
    from: "file:///data/batch_queue/*.json"

    processors:
      - type: "aggregate"
        strategy: "collect"
        timeout: "1m"
        max_size: 100

      - type: "external"
        command: "python scripts/batch_distributor.py"
        config:
          worker_nodes: "{{WORKER_NODES}}"
          distribution_strategy: "round_robin"
          max_workers: 10

    to: "grpc://{{BATCH_RESULT_SERVER}}/BatchService/ProcessResults"

env_vars:
  - ML_GRPC_SERVER
  - ML_MODEL_NAME
  - RESULT_GRPC_SERVER
  - MQTT_BROKER
  - VALIDATION_RULES
  - MONITORED_MODELS
  - ML_TEAM_EMAIL
  - WORKER_NODES
  - BATCH_RESULT_SERVER

settings:
  grpc_max_message_size: "100MB"
  grpc_keepalive_time: "30s"
  grpc_keepalive_timeout: "5s"
  grpc_keepalive_permit_without_calls: true
  max_concurrent_routes: 3
  default_timeout: 120
```

## examples/iot_routes.yaml

```yaml
# IoT Sensor Data Processing Routes
# Demonstrates real-time analytics and anomaly detection

routes:
  - name: "iot_sensor_aggregation"
    from: "mqtt://{{MQTT_BROKER}}:1883/sensors/+/data"

    processors:
      # Real-time aggregation
      - type: "aggregate"
        strategy: "collect"
        timeout: "30s"
        max_size: 50

      # Python analytics for anomaly detection
      - type: "external"
        command: "python scripts/sensor_analytics.py"
        input_format: "json"
        output_format: "json"
        config:
          anomaly_threshold: 2.5
          window_size: 100
          algorithms: ["z_score", "isolation_forest", "moving_average"]

      # Filter only anomalies and critical events
      - type: "filter"
        condition: "{{anomaly_count}} > 0 or {{critical_sensors}} > 0"

      # Node.js alerting with escalation
      - type: "external"
        command: "node scripts/alerting.js"
        config:
          alert_channels: "{{ALERT_CHANNELS}}"
          escalation_rules: "immediate:critical,5min:high,1h:medium"
          max_retries: 3

    to:
      - "http://{{DASHBOARD_API}}/sensors/alerts"
      - "mqtt://{{MQTT_BROKER}}:1883/alerts/sensors"
      - "file://data/sensor_alerts_{{date}}.json"

  - name: "environmental_monitoring"
    from: "mqtt://{{MQTT_BROKER}}:1883/environment/+/readings"

    processors:
      # Go-based real-time processing
      - type: "external"
        command: "go run scripts/environment_processor.go"
        config:
          thresholds: "{{ENVIRONMENTAL_THRESHOLDS}}"
          location_mapping: "{{
```
